<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring Gift 프로젝트 - 아키텍처 분석</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        :root {
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-card: #334155;
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --accent-blue: #3b82f6;
            --accent-purple: #8b5cf6;
            --accent-green: #10b981;
            --accent-orange: #f59e0b;
            --accent-pink: #ec4899;
            --accent-cyan: #06b6d4;
            --accent-red: #ef4444;
            --accent-yellow: #eab308;
            --gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --gradient-3: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            overflow: hidden;
            height: 100vh;
        }

        .presentation {
            width: 100%;
            height: 100vh;
            position: relative;
        }

        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 60px;
            opacity: 0;
            visibility: hidden;
            transform: translateX(100px);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .slide.active {
            opacity: 1;
            visibility: visible;
            transform: translateX(0);
        }

        .slide.prev {
            transform: translateX(-100px);
        }

        h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        h2 {
            font-size: 2.5rem;
            font-weight: 600;
            margin-bottom: 2rem;
            color: var(--text-primary);
        }

        h3 {
            font-size: 1.5rem;
            font-weight: 500;
            color: var(--accent-blue);
            margin-bottom: 1rem;
        }

        .subtitle {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
        }

        /* Navigation */
        .nav {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            z-index: 100;
        }

        .nav-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--bg-card);
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-dot.active {
            background: var(--accent-blue);
            transform: scale(1.3);
        }

        .nav-dot:hover {
            background: var(--accent-purple);
        }

        .slide-number {
            position: fixed;
            bottom: 30px;
            right: 40px;
            font-size: 1rem;
            color: var(--text-secondary);
        }

        .nav-arrows {
            position: fixed;
            bottom: 30px;
            left: 40px;
            display: flex;
            gap: 10px;
        }

        .nav-arrow {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bg-card);
            border: none;
            color: var(--text-primary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .nav-arrow:hover {
            background: var(--accent-blue);
            transform: scale(1.1);
        }

        /* Title Slide */
        .title-slide {
            text-align: center;
        }

        .title-slide h1 {
            font-size: 4.5rem;
            margin-bottom: 0.5rem;
        }

        .tech-badges {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 2rem;
        }

        .badge {
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 500;
            background: var(--bg-card);
            border: 1px solid var(--bg-card);
            transition: all 0.3s;
        }

        .badge:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .badge.spring { border-color: var(--accent-green); color: var(--accent-green); }
        .badge.java { border-color: var(--accent-orange); color: var(--accent-orange); }
        .badge.jpa { border-color: var(--accent-purple); color: var(--accent-purple); }
        .badge.h2 { border-color: var(--accent-blue); color: var(--accent-blue); }

        /* Tech Stack Slide */
        .tech-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            max-width: 1000px;
        }

        .tech-card {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s;
            border: 1px solid transparent;
        }

        .tech-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent-blue);
            box-shadow: 0 20px 40px rgba(59, 130, 246, 0.1);
        }

        .tech-icon {
            width: 60px;
            height: 60px;
            margin: 0 auto 15px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .tech-card h3 {
            margin-bottom: 0.5rem;
        }

        .tech-card p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Package Structure */
        .package-tree {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 40px;
            font-family: 'Fira Code', 'Consolas', monospace;
            font-size: 0.95rem;
            line-height: 1.8;
            max-width: 750px;
            width: 100%;
        }

        .folder { color: var(--accent-orange); }
        .file { color: var(--accent-cyan); }
        .entity { color: var(--accent-green); }
        .service { color: var(--accent-purple); }
        .controller { color: var(--accent-pink); }
        .interface { color: var(--accent-blue); }
        .indent { margin-left: 20px; }
        .indent-2 { margin-left: 40px; }

        /* Layered Architecture */
        .architecture {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 900px;
            width: 100%;
        }

        .layer {
            display: flex;
            align-items: center;
            gap: 30px;
            padding: 25px 40px;
            border-radius: 16px;
            transition: all 0.3s;
        }

        .layer:hover { transform: scale(1.02); }
        .layer-ui { background: linear-gradient(135deg, rgba(236, 72, 153, 0.2), rgba(236, 72, 153, 0.1)); border: 1px solid var(--accent-pink); }
        .layer-app { background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(139, 92, 246, 0.1)); border: 1px solid var(--accent-purple); }
        .layer-model { background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(16, 185, 129, 0.1)); border: 1px solid var(--accent-green); }
        .layer-infra { background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(59, 130, 246, 0.1)); border: 1px solid var(--accent-blue); }

        .layer-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .layer-content h3 { margin-bottom: 5px; }
        .layer-content p { color: var(--text-secondary); font-size: 0.9rem; }

        .layer-files {
            margin-left: auto;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .layer-file {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            background: var(--bg-card);
        }

        .arrow-down {
            text-align: center;
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin: -10px 0;
        }

        /* ER Diagram */
        .er-diagram {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            justify-content: center;
            max-width: 1200px;
        }

        .entity-box {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 25px;
            min-width: 180px;
            border: 2px solid var(--accent-green);
        }

        .entity-box h4 {
            text-align: center;
            padding: 10px;
            margin: -25px -25px 15px -25px;
            background: var(--accent-green);
            color: var(--bg-primary);
            border-radius: 14px 14px 0 0;
            font-size: 1.1rem;
        }

        .entity-box.value-object { border-color: var(--accent-orange); }
        .entity-box.value-object h4 { background: var(--accent-orange); }

        .field {
            padding: 8px 0;
            font-size: 0.9rem;
            border-bottom: 1px solid var(--bg-card);
            display: flex;
            justify-content: space-between;
        }

        .field:last-child { border-bottom: none; }
        .field-name { color: var(--text-primary); }
        .field-type { color: var(--text-secondary); font-size: 0.8rem; }
        .pk { color: var(--accent-orange); }
        .fk { color: var(--accent-purple); }

        .relations-legend {
            margin-top: 30px;
            display: flex;
            gap: 30px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .relation-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* API Endpoints */
        .api-table {
            background: var(--bg-secondary);
            border-radius: 16px;
            overflow: hidden;
            max-width: 900px;
            width: 100%;
        }

        .api-row {
            display: grid;
            grid-template-columns: 100px 1fr 2fr;
            padding: 20px 30px;
            border-bottom: 1px solid var(--bg-card);
            transition: background 0.3s;
        }

        .api-row:hover { background: var(--bg-card); }
        .api-row.header { background: var(--bg-card); font-weight: 600; color: var(--text-secondary); }

        .method {
            font-weight: 600;
            font-size: 0.85rem;
            padding: 5px 12px;
            border-radius: 6px;
            text-align: center;
            width: fit-content;
        }

        .method.get { background: rgba(16, 185, 129, 0.2); color: var(--accent-green); }
        .method.post { background: rgba(59, 130, 246, 0.2); color: var(--accent-blue); }
        .endpoint { font-family: 'Fira Code', monospace; color: var(--accent-cyan); }

        /* Sequence Diagram */
        .mermaid {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 40px 50px;
            max-width: 100%;
            min-width: 900px;
            overflow-x: auto;
            transform: scale(1.15);
            transform-origin: center center;
        }

        .mermaid svg {
            max-width: none !important;
            height: auto !important;
        }

        /* Code Block */
        .code-block {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 30px;
            max-width: 800px;
            width: 100%;
            overflow-x: auto;
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--bg-card);
        }

        .code-title { color: var(--accent-purple); font-weight: 600; }
        .code-lang { color: var(--text-secondary); font-size: 0.85rem; }

        pre {
            font-family: 'Fira Code', 'Consolas', monospace;
            font-size: 0.9rem;
            line-height: 1.7;
            color: var(--text-primary);
        }

        .keyword { color: var(--accent-purple); }
        .type { color: var(--accent-cyan); }
        .method-name { color: var(--accent-orange); }
        .string { color: var(--accent-green); }
        .comment { color: var(--text-secondary); }

        /* Infrastructure */
        .infra-diagram {
            display: flex;
            align-items: center;
            gap: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .infra-box {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 30px;
            text-align: center;
            min-width: 200px;
        }

        .infra-box.interface-box { border: 2px dashed var(--accent-blue); }
        .infra-box.impl-box { border: 2px solid var(--accent-green); }
        .infra-box.external { border: 2px solid var(--accent-orange); background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), transparent); }
        .infra-arrow { font-size: 2rem; color: var(--text-secondary); }

        /* Summary */
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            max-width: 1000px;
        }

        .summary-card {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 30px;
        }

        .summary-card h3 {
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .summary-card ul { list-style: none; color: var(--text-secondary); }
        .summary-card li { padding: 8px 0; padding-left: 20px; position: relative; }
        .summary-card li::before { content: ">"; position: absolute; left: 0; color: var(--accent-blue); }

        /* Issues Slides */
        .issues-overview {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
            justify-content: center;
            max-width: 1000px;
        }

        .issue-stat {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 40px;
            text-align: center;
            min-width: 200px;
            transition: all 0.3s;
        }

        .issue-stat:hover { transform: translateY(-5px); }
        .issue-stat.critical { border: 2px solid var(--accent-red); }
        .issue-stat.high { border: 2px solid var(--accent-orange); }
        .issue-stat.medium { border: 2px solid var(--accent-yellow); }
        .issue-stat.low { border: 2px solid var(--accent-blue); }

        .issue-stat .count {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .issue-stat.critical .count { color: var(--accent-red); }
        .issue-stat.high .count { color: var(--accent-orange); }
        .issue-stat.medium .count { color: var(--accent-yellow); }
        .issue-stat.low .count { color: var(--accent-blue); }

        .issue-stat .label { color: var(--text-secondary); font-size: 1.1rem; }

        .issue-list {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 30px;
            max-width: 900px;
            width: 100%;
        }

        .issue-item {
            padding: 20px;
            border-bottom: 1px solid var(--bg-card);
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }

        .issue-item:last-child { border-bottom: none; }

        .issue-badge {
            padding: 5px 12px;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
            flex-shrink: 0;
        }

        .issue-badge.critical { background: rgba(239, 68, 68, 0.2); color: var(--accent-red); }
        .issue-badge.high { background: rgba(245, 158, 11, 0.2); color: var(--accent-orange); }
        .issue-badge.medium { background: rgba(234, 179, 8, 0.2); color: var(--accent-yellow); }

        .issue-content h4 { color: var(--text-primary); margin-bottom: 5px; font-size: 1rem; }
        .issue-content p { color: var(--text-secondary); font-size: 0.9rem; }
        .issue-content code { background: var(--bg-card); padding: 2px 6px; border-radius: 4px; font-size: 0.85rem; color: var(--accent-cyan); }

        .recommendation-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 25px;
            max-width: 1000px;
        }

        .rec-card {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 25px;
            border-left: 4px solid var(--accent-green);
        }

        .rec-card h4 {
            color: var(--accent-green);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .rec-card p { color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; }

        /* Responsive */
        @media (max-width: 768px) {
            .slide { padding: 30px; }
            h1 { font-size: 2.5rem; }
            h2 { font-size: 1.8rem; }
            .tech-grid { grid-template-columns: 1fr; }
            .api-row { grid-template-columns: 1fr; gap: 10px; }
            .summary-grid, .recommendation-grid { grid-template-columns: 1fr; }
            .layer { flex-direction: column; text-align: center; }
            .layer-files { margin-left: 0; justify-content: center; }
            .issues-overview { flex-direction: column; }
        }

        /* Animations */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .slide.active .animate { animation: fadeInUp 0.6s ease forwards; }
        .slide.active .animate-delay-1 { animation-delay: 0.1s; opacity: 0; }
        .slide.active .animate-delay-2 { animation-delay: 0.2s; opacity: 0; }
        .slide.active .animate-delay-3 { animation-delay: 0.3s; opacity: 0; }
        .slide.active .animate-delay-4 { animation-delay: 0.4s; opacity: 0; }
    </style>
</head>
<body>
    <div class="presentation">
        <!-- 슬라이드 1: 타이틀 -->
        <div class="slide active title-slide" data-slide="1">
            <h1 class="animate">Spring Gift</h1>
            <p class="subtitle animate animate-delay-1">선물 & 위시리스트 관리 시스템</p>
            <p class="animate animate-delay-2" style="color: var(--text-secondary); margin-bottom: 2rem;">
                카카오 소셜 연동
            </p>
            <div class="tech-badges animate animate-delay-3">
                <span class="badge spring">Spring Boot 3.5.8</span>
                <span class="badge java">Java 21</span>
                <span class="badge jpa">Spring Data JPA</span>
                <span class="badge h2">H2 Database</span>
                <span class="badge" style="border-color: var(--accent-pink); color: var(--accent-pink);">Thymeleaf</span>
            </div>
        </div>

        <!-- 슬라이드 2: 기술 스택 -->
        <div class="slide" data-slide="2">
            <h2 class="animate">기술 스택</h2>
            <div class="tech-grid">
                <div class="tech-card animate animate-delay-1">
                    <div class="tech-icon" style="background: rgba(16, 185, 129, 0.2); color: var(--accent-green);">
                        <span>&#9881;</span>
                    </div>
                    <h3 style="color: var(--accent-green);">Spring Boot</h3>
                    <p>v3.5.8</p>
                    <p>프로덕션 레디 프레임워크</p>
                </div>
                <div class="tech-card animate animate-delay-2">
                    <div class="tech-icon" style="background: rgba(245, 158, 11, 0.2); color: var(--accent-orange);">
                        <span>&#9749;</span>
                    </div>
                    <h3 style="color: var(--accent-orange);">Java</h3>
                    <p>v21 (LTS)</p>
                    <p>가상 스레드 지원</p>
                </div>
                <div class="tech-card animate animate-delay-3">
                    <div class="tech-icon" style="background: rgba(139, 92, 246, 0.2); color: var(--accent-purple);">
                        <span>&#128451;</span>
                    </div>
                    <h3 style="color: var(--accent-purple);">JPA / Hibernate</h3>
                    <p>ORM 프레임워크</p>
                    <p>엔티티 매핑</p>
                </div>
                <div class="tech-card animate animate-delay-1">
                    <div class="tech-icon" style="background: rgba(59, 130, 246, 0.2); color: var(--accent-blue);">
                        <span>&#128218;</span>
                    </div>
                    <h3 style="color: var(--accent-blue);">H2 Database</h3>
                    <p>인메모리 DB</p>
                    <p>개발 및 테스트용</p>
                </div>
                <div class="tech-card animate animate-delay-2">
                    <div class="tech-icon" style="background: rgba(6, 182, 212, 0.2); color: var(--accent-cyan);">
                        <span>&#127760;</span>
                    </div>
                    <h3 style="color: var(--accent-cyan);">REST API</h3>
                    <p>Spring MVC</p>
                    <p>JSON 응답</p>
                </div>
                <div class="tech-card animate animate-delay-3">
                    <div class="tech-icon" style="background: rgba(236, 72, 153, 0.2); color: var(--accent-pink);">
                        <span>&#127912;</span>
                    </div>
                    <h3 style="color: var(--accent-pink);">Thymeleaf</h3>
                    <p>템플릿 엔진</p>
                    <p>서버 사이드 렌더링</p>
                </div>
            </div>
        </div>

        <!-- 슬라이드 3: 패키지 구조 -->
        <div class="slide" data-slide="3">
            <h2 class="animate">패키지 구조</h2>
            <div class="package-tree animate animate-delay-1">
                <div><span class="folder">gift/</span></div>
                <div class="indent"><span class="file">Application.java</span> <span style="color: var(--text-secondary);">// 진입점</span></div>
                <div class="indent"><span class="folder">application/</span> <span style="color: var(--text-secondary);">// 서비스 계층</span></div>
                <div class="indent-2"><span class="service">CategoryService.java</span></div>
                <div class="indent-2"><span class="service">ProductService.java</span></div>
                <div class="indent-2"><span class="service">OptionService.java</span></div>
                <div class="indent-2"><span class="service">WishService.java</span></div>
                <div class="indent-2"><span class="service">GiftService.java</span></div>
                <div class="indent-2"><span class="file">*Request.java</span> <span style="color: var(--text-secondary);">// DTO</span></div>
                <div class="indent"><span class="folder">model/</span> <span style="color: var(--text-secondary);">// 도메인 계층</span></div>
                <div class="indent-2"><span class="entity">Category, Product, Option</span> <span style="color: var(--text-secondary);">// @Entity</span></div>
                <div class="indent-2"><span class="entity">Member, Wish</span> <span style="color: var(--text-secondary);">// @Entity</span></div>
                <div class="indent-2"><span class="file">Gift.java</span> <span style="color: var(--text-secondary);">// 값 객체</span></div>
                <div class="indent-2"><span class="interface">*Repository.java</span> <span style="color: var(--text-secondary);">// JPA 인터페이스</span></div>
                <div class="indent"><span class="folder">ui/</span> <span style="color: var(--text-secondary);">// 프레젠테이션 계층</span></div>
                <div class="indent-2"><span class="controller">CategoryRestController.java</span></div>
                <div class="indent-2"><span class="controller">ProductRestController.java</span></div>
                <div class="indent-2"><span class="controller">GiftRestController.java</span></div>
                <div class="indent"><span class="folder">infrastructure/</span> <span style="color: var(--text-secondary);">// 인프라 계층</span></div>
                <div class="indent-2"><span class="file">FakeGiftDelivery.java</span></div>
                <div class="indent-2"><span class="file">KakaoMessageProperties.java</span></div>
            </div>
        </div>

        <!-- 슬라이드 4: 레이어드 아키텍처 -->
        <div class="slide" data-slide="4">
            <h2 class="animate">레이어드 아키텍처</h2>
            <div class="architecture">
                <div class="layer layer-ui animate animate-delay-1">
                    <div class="layer-icon" style="background: rgba(236, 72, 153, 0.3);">&#127760;</div>
                    <div class="layer-content">
                        <h3 style="color: var(--accent-pink);">UI 계층</h3>
                        <p>REST 컨트롤러 - HTTP 요청/응답 처리</p>
                    </div>
                    <div class="layer-files">
                        <span class="layer-file">CategoryRestController</span>
                        <span class="layer-file">ProductRestController</span>
                        <span class="layer-file">GiftRestController</span>
                    </div>
                </div>
                <div class="arrow-down animate animate-delay-1">&#8595;</div>
                <div class="layer layer-app animate animate-delay-2">
                    <div class="layer-icon" style="background: rgba(139, 92, 246, 0.3);">&#9881;</div>
                    <div class="layer-content">
                        <h3 style="color: var(--accent-purple);">애플리케이션 계층</h3>
                        <p>비즈니스 로직 & 트랜잭션 관리</p>
                    </div>
                    <div class="layer-files">
                        <span class="layer-file">CategoryService</span>
                        <span class="layer-file">ProductService</span>
                        <span class="layer-file">GiftService</span>
                    </div>
                </div>
                <div class="arrow-down animate animate-delay-2">&#8595;</div>
                <div class="layer layer-model animate animate-delay-3">
                    <div class="layer-icon" style="background: rgba(16, 185, 129, 0.3);">&#128451;</div>
                    <div class="layer-content">
                        <h3 style="color: var(--accent-green);">모델 계층</h3>
                        <p>도메인 엔티티 & 리포지토리 인터페이스</p>
                    </div>
                    <div class="layer-files">
                        <span class="layer-file">Product</span>
                        <span class="layer-file">Category</span>
                        <span class="layer-file">Option</span>
                        <span class="layer-file">Member</span>
                    </div>
                </div>
                <div class="arrow-down animate animate-delay-3">&#8595;</div>
                <div class="layer layer-infra animate animate-delay-4">
                    <div class="layer-icon" style="background: rgba(59, 130, 246, 0.3);">&#128268;</div>
                    <div class="layer-content">
                        <h3 style="color: var(--accent-blue);">인프라스트럭처 계층</h3>
                        <p>외부 서비스 연동 (카카오 API)</p>
                    </div>
                    <div class="layer-files">
                        <span class="layer-file">FakeGiftDelivery</span>
                        <span class="layer-file">KakaoProperties</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 슬라이드 5: ER 다이어그램 -->
        <div class="slide" data-slide="5">
            <h2 class="animate">도메인 모델 (ER 다이어그램)</h2>
            <div class="er-diagram animate animate-delay-1">
                <div class="entity-box">
                    <h4>Category</h4>
                    <div class="field"><span class="field-name pk">id</span><span class="field-type">Long</span></div>
                    <div class="field"><span class="field-name">name</span><span class="field-type">String</span></div>
                </div>
                <div class="entity-box">
                    <h4>Product</h4>
                    <div class="field"><span class="field-name pk">id</span><span class="field-type">Long</span></div>
                    <div class="field"><span class="field-name">name</span><span class="field-type">String</span></div>
                    <div class="field"><span class="field-name">price</span><span class="field-type">int</span></div>
                    <div class="field"><span class="field-name">imageUrl</span><span class="field-type">String</span></div>
                    <div class="field"><span class="field-name fk">category</span><span class="field-type">Category</span></div>
                </div>
                <div class="entity-box">
                    <h4>Option</h4>
                    <div class="field"><span class="field-name pk">id</span><span class="field-type">Long</span></div>
                    <div class="field"><span class="field-name">name</span><span class="field-type">String</span></div>
                    <div class="field"><span class="field-name">quantity</span><span class="field-type">int</span></div>
                    <div class="field"><span class="field-name fk">product</span><span class="field-type">Product</span></div>
                </div>
                <div class="entity-box">
                    <h4>Member</h4>
                    <div class="field"><span class="field-name pk">id</span><span class="field-type">Long</span></div>
                    <div class="field"><span class="field-name">name</span><span class="field-type">String</span></div>
                    <div class="field"><span class="field-name">email</span><span class="field-type">String</span></div>
                </div>
                <div class="entity-box">
                    <h4>Wish</h4>
                    <div class="field"><span class="field-name pk">id</span><span class="field-type">Long</span></div>
                    <div class="field"><span class="field-name fk">member</span><span class="field-type">Member</span></div>
                    <div class="field"><span class="field-name fk">product</span><span class="field-type">Product</span></div>
                </div>
                <div class="entity-box value-object">
                    <h4>Gift (VO)</h4>
                    <div class="field"><span class="field-name">from</span><span class="field-type">Long</span></div>
                    <div class="field"><span class="field-name">to</span><span class="field-type">Long</span></div>
                    <div class="field"><span class="field-name">option</span><span class="field-type">Option</span></div>
                    <div class="field"><span class="field-name">quantity</span><span class="field-type">int</span></div>
                    <div class="field"><span class="field-name">message</span><span class="field-type">String</span></div>
                </div>
            </div>
            <div class="relations-legend animate animate-delay-2">
                <div class="relation-item"><span class="pk">PK</span> 기본 키</div>
                <div class="relation-item"><span class="fk">FK</span> 외래 키 (다대일)</div>
                <div class="relation-item" style="color: var(--accent-orange);">VO = 값 객체</div>
            </div>
        </div>

        <!-- 슬라이드 6: API 엔드포인트 -->
        <div class="slide" data-slide="6">
            <h2 class="animate">REST API 엔드포인트</h2>
            <div class="api-table animate animate-delay-1">
                <div class="api-row header">
                    <span>메서드</span>
                    <span>엔드포인트</span>
                    <span>설명</span>
                </div>
                <div class="api-row">
                    <span class="method post">POST</span>
                    <span class="endpoint">/api/categories</span>
                    <span>새 카테고리 생성</span>
                </div>
                <div class="api-row">
                    <span class="method get">GET</span>
                    <span class="endpoint">/api/categories</span>
                    <span>전체 카테고리 조회</span>
                </div>
                <div class="api-row">
                    <span class="method post">POST</span>
                    <span class="endpoint">/api/products</span>
                    <span>새 상품 생성</span>
                </div>
                <div class="api-row">
                    <span class="method get">GET</span>
                    <span class="endpoint">/api/products</span>
                    <span>전체 상품 조회</span>
                </div>
                <div class="api-row">
                    <span class="method post">POST</span>
                    <span class="endpoint">/api/gifts</span>
                    <span>선물 전송 (헤더: Member-Id)</span>
                </div>
            </div>
        </div>

        <!-- 슬라이드 7: 시퀀스 다이어그램 -->
        <div class="slide" data-slide="7">
            <h2 class="animate">요청 흐름: 선물 전송</h2>
            <div class="mermaid animate animate-delay-1">
sequenceDiagram
    participant C as 클라이언트
    participant GC as GiftController
    participant GS as GiftService
    participant OR as OptionRepository
    participant GD as GiftDelivery
    participant K as 카카오 API

    C->>GC: POST /api/gifts
    Note right of C: 헤더: Member-Id
    GC->>GS: give(request, memberId)
    GS->>OR: findById(optionId)
    OR-->>GS: Option
    GS->>GS: option.decrease(quantity)
    GS->>GS: new Gift(...)
    GS->>GD: deliver(gift)
    GD->>K: 메시지 전송
    K-->>GD: 성공
    GD-->>GS: void
    GS-->>GC: void
    GC-->>C: 200 OK
            </div>
        </div>

        <!-- 슬라이드 8: 핵심 비즈니스 로직 -->
        <div class="slide" data-slide="8">
            <h2 class="animate">핵심 비즈니스 로직</h2>
            <div class="code-block animate animate-delay-1">
                <div class="code-header">
                    <span class="code-title">GiftService.java</span>
                    <span class="code-lang">Java</span>
                </div>
                <pre>
<span class="keyword">@Transactional</span>
<span class="keyword">@Service</span>
<span class="keyword">public class</span> <span class="type">GiftService</span> {
    <span class="keyword">private final</span> <span class="type">OptionRepository</span> optionRepository;
    <span class="keyword">private final</span> <span class="type">GiftDelivery</span> giftDelivery;

    <span class="keyword">public void</span> <span class="method-name">give</span>(<span class="type">GiveGiftRequest</span> request, <span class="type">Long</span> memberId) {
        <span class="comment">// 1. 옵션 조회</span>
        <span class="keyword">final</span> <span class="type">Option</span> option = optionRepository
            .findById(request.getOptionId())
            .orElseThrow();

        <span class="comment">// 2. 재고 차감</span>
        option.<span class="method-name">decrease</span>(request.getQuantity());

        <span class="comment">// 3. Gift 객체 생성 (Value Object)</span>
        <span class="keyword">final</span> <span class="type">Gift</span> gift = <span class="keyword">new</span> Gift(
            memberId,
            request.getReceiverId(),
            option,
            request.getQuantity(),
            request.getMessage()
        );

        <span class="comment">// 4. 선물 전송 (카카오)</span>
        giftDelivery.<span class="method-name">deliver</span>(gift);
    }
}
                </pre>
            </div>
        </div>

        <!-- 슬라이드 9: 인프라스트럭처 -->
        <div class="slide" data-slide="9">
            <h2 class="animate">인프라스트럭처: 카카오 연동</h2>
            <div class="infra-diagram animate animate-delay-1">
                <div class="infra-box interface-box">
                    <h3 style="color: var(--accent-blue);">GiftDelivery</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem;">(인터페이스)</p>
                    <p style="margin-top: 15px; font-family: monospace; font-size: 0.85rem;">
                        void deliver(Gift gift)
                    </p>
                </div>
                <div class="infra-arrow">&#8594;</div>
                <div class="infra-box impl-box">
                    <h3 style="color: var(--accent-green);">FakeGiftDelivery</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem;">@Component</p>
                    <p style="margin-top: 15px; font-size: 0.85rem;">
                        개발용 구현체
                    </p>
                </div>
                <div class="infra-arrow">&#8594;</div>
                <div class="infra-box external">
                    <h3 style="color: var(--accent-orange);">카카오 API</h3>
                    <p style="color: var(--text-secondary); font-size: 0.9rem;">외부 서비스</p>
                    <p style="margin-top: 15px; font-size: 0.85rem;">
                        /v1/api/talk
                    </p>
                </div>
            </div>
            <div style="margin-top: 40px; text-align: center;" class="animate animate-delay-2">
                <p style="color: var(--text-secondary);">
                    <strong style="color: var(--accent-blue);">의존성 역전 원칙 (DIP)</strong><br>
                    GiftService는 추상화(GiftDelivery 인터페이스)에 의존하고,<br>
                    구체적인 구현(FakeGiftDelivery)에는 의존하지 않습니다
                </p>
            </div>
        </div>

        <!-- 슬라이드 10: 요약 -->
        <div class="slide" data-slide="10">
            <h2 class="animate">요약 & 다음 단계</h2>
            <div class="summary-grid">
                <div class="summary-card animate animate-delay-1">
                    <h3><span style="color: var(--accent-green);">&#10003;</span> 아키텍처 특징</h3>
                    <ul>
                        <li>클린 레이어드 아키텍처</li>
                        <li>의존성 역전 (인터페이스)</li>
                        <li>도메인 주도 설계</li>
                        <li>트랜잭션 관리</li>
                    </ul>
                </div>
                <div class="summary-card animate animate-delay-2">
                    <h3><span style="color: var(--accent-blue);">&#127919;</span> 핵심 기능</h3>
                    <ul>
                        <li>카테고리 & 상품 관리</li>
                        <li>옵션 기반 재고 관리</li>
                        <li>위시리스트 시스템</li>
                        <li>선물 전송 (카카오)</li>
                    </ul>
                </div>
                <div class="summary-card animate animate-delay-3">
                    <h3><span style="color: var(--accent-purple);">&#128640;</span> 기술 스택</h3>
                    <ul>
                        <li>Spring Boot 3.5.8</li>
                        <li>Java 21 (LTS)</li>
                        <li>Spring Data JPA</li>
                        <li>H2 Database</li>
                    </ul>
                </div>
                <div class="summary-card animate animate-delay-4">
                    <h3><span style="color: var(--accent-orange);">&#128161;</span> 다음 단계</h3>
                    <ul>
                        <li>실제 카카오 API 연동</li>
                        <li>인증 & 인가 구현</li>
                        <li>유효성 검사 & 에러 처리</li>
                        <li>운영 DB 전환 (MySQL)</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- 슬라이드 11: 코드 이슈 개요 -->
        <div class="slide" data-slide="11">
            <h2 class="animate">코드 품질 분석</h2>
            <p class="subtitle animate animate-delay-1" style="margin-bottom: 3rem;">발견된 이슈: 총 19개</p>
            <div class="issues-overview">
                <div class="issue-stat critical animate animate-delay-1">
                    <div class="count">3</div>
                    <div class="label">CRITICAL</div>
                    <p style="color: var(--text-secondary); font-size: 0.8rem; margin-top: 10px;">즉시 수정 필요</p>
                </div>
                <div class="issue-stat high animate animate-delay-2">
                    <div class="count">7</div>
                    <div class="label">HIGH</div>
                    <p style="color: var(--text-secondary); font-size: 0.8rem; margin-top: 10px;">수정 권장</p>
                </div>
                <div class="issue-stat medium animate animate-delay-3">
                    <div class="count">6</div>
                    <div class="label">MEDIUM</div>
                    <p style="color: var(--text-secondary); font-size: 0.8rem; margin-top: 10px;">고려 필요</p>
                </div>
                <div class="issue-stat low animate animate-delay-4">
                    <div class="count">3</div>
                    <div class="label">LOW</div>
                    <p style="color: var(--text-secondary); font-size: 0.8rem; margin-top: 10px;">선택적 개선</p>
                </div>
            </div>
        </div>

        <!-- 슬라이드 12: CRITICAL 이슈 -->
        <div class="slide" data-slide="12">
            <h2 class="animate" style="color: var(--accent-red);">CRITICAL 이슈</h2>
            <div class="issue-list animate animate-delay-1">
                <div class="issue-item">
                    <span class="issue-badge critical">C-1</span>
                    <div class="issue-content">
                        <h4>인증/인가 완전 부재</h4>
                        <p>모든 API 엔드포인트가 인증 없이 접근 가능합니다. <code>Member-Id</code> 헤더를 클라이언트가 임의로 설정할 수 있어 사용자 위장이 가능합니다.</p>
                    </div>
                </div>
                <div class="issue-item">
                    <span class="issue-badge critical">C-2</span>
                    <div class="issue-content">
                        <h4>API 토큰 하드코딩</h4>
                        <p><code>application.properties</code>에 카카오 API 토큰이 하드코딩되어 있습니다. Git에 커밋되어 보안 취약점이 됩니다.</p>
                    </div>
                </div>
                <div class="issue-item">
                    <span class="issue-badge critical">C-3</span>
                    <div class="issue-content">
                        <h4>@RequestBody 누락</h4>
                        <p><code>CategoryRestController</code>와 <code>ProductRestController</code>의 POST 메서드에 <code>@RequestBody</code>가 없어 JSON 바인딩이 되지 않습니다.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 슬라이드 13: HIGH 이슈 -->
        <div class="slide" data-slide="13">
            <h2 class="animate" style="color: var(--accent-orange);">HIGH 이슈</h2>
            <div class="issue-list animate animate-delay-1" style="max-height: 70vh; overflow-y: auto;">
                <div class="issue-item">
                    <span class="issue-badge high">H-1</span>
                    <div class="issue-content">
                        <h4>입력값 검증 없음</h4>
                        <p>모든 Request DTO에 <code>@Valid</code>, <code>@NotNull</code> 등 Bean Validation이 없습니다.</p>
                    </div>
                </div>
                <div class="issue-item">
                    <span class="issue-badge high">H-2</span>
                    <div class="issue-content">
                        <h4>글로벌 예외 처리기 없음</h4>
                        <p><code>@ControllerAdvice</code>가 없어 예외 시 스택 트레이스가 클라이언트에 노출됩니다.</p>
                    </div>
                </div>
                <div class="issue-item">
                    <span class="issue-badge high">H-3</span>
                    <div class="issue-content">
                        <h4>orElseThrow() 메시지 없음</h4>
                        <p>모든 <code>orElseThrow()</code>가 빈 예외를 던져 디버깅이 어렵습니다.</p>
                    </div>
                </div>
                <div class="issue-item">
                    <span class="issue-badge high">H-4</span>
                    <div class="issue-content">
                        <h4>동시성 문제 (Race Condition)</h4>
                        <p><code>Option.decrease()</code>에 락이 없어 동시 요청 시 재고가 음수가 될 수 있습니다.</p>
                    </div>
                </div>
                <div class="issue-item">
                    <span class="issue-badge high">H-5</span>
                    <div class="issue-content">
                        <h4>JPA 엔티티 직접 반환</h4>
                        <p>컨트롤러가 엔티티를 직접 반환하여 내부 구조가 노출되고 순환 참조 위험이 있습니다.</p>
                    </div>
                </div>
                <div class="issue-item">
                    <span class="issue-badge high">H-6</span>
                    <div class="issue-content">
                        <h4>자기 자신에게 선물 가능</h4>
                        <p>발신자와 수신자가 동일해도 검증이 없어 비즈니스 로직 오류입니다.</p>
                    </div>
                </div>
                <div class="issue-item">
                    <span class="issue-badge high">H-7</span>
                    <div class="issue-content">
                        <h4>중복 위시리스트 방지 없음</h4>
                        <p>동일 상품을 여러 번 위시리스트에 추가할 수 있습니다.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 슬라이드 14: 개선 권장사항 -->
        <div class="slide" data-slide="14">
            <h2 class="animate">개선 권장사항</h2>
            <div class="recommendation-grid animate animate-delay-1">
                <div class="rec-card">
                    <h4>&#128274; 보안 강화</h4>
                    <p>Spring Security 추가, JWT 인증 구현, 환경변수로 시크릿 관리</p>
                </div>
                <div class="rec-card">
                    <h4>&#9989; 입력 검증</h4>
                    <p>spring-boot-starter-validation 추가, DTO에 @NotNull, @Positive 적용</p>
                </div>
                <div class="rec-card">
                    <h4>&#128679; 에러 처리</h4>
                    <p>@ControllerAdvice 구현, 커스텀 예외 정의, 에러 응답 표준화</p>
                </div>
                <div class="rec-card">
                    <h4>&#128274; 동시성 제어</h4>
                    <p>@Version으로 낙관적 락 또는 @Lock으로 비관적 락 적용</p>
                </div>
                <div class="rec-card">
                    <h4>&#128230; 응답 DTO</h4>
                    <p>엔티티 대신 Response DTO 반환, 순환 참조 방지</p>
                </div>
                <div class="rec-card">
                    <h4>&#128221; 테스트 작성</h4>
                    <p>단위 테스트, 통합 테스트 추가, CI/CD 파이프라인 구축</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 네비게이션 -->
    <div class="nav-arrows">
        <button class="nav-arrow" onclick="prevSlide()">&#8592;</button>
        <button class="nav-arrow" onclick="nextSlide()">&#8594;</button>
    </div>

    <div class="nav" id="nav"></div>

    <div class="slide-number">
        <span id="currentSlide">1</span> / <span id="totalSlides">14</span>
    </div>

    <script>
        // Mermaid 초기화
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark',
            themeVariables: {
                primaryColor: '#3b82f6',
                primaryTextColor: '#f8fafc',
                primaryBorderColor: '#3b82f6',
                lineColor: '#94a3b8',
                secondaryColor: '#1e293b',
                tertiaryColor: '#334155',
                background: '#1e293b',
                mainBkg: '#1e293b',
                secondBkg: '#334155',
                border1: '#3b82f6',
                border2: '#8b5cf6',
                arrowheadColor: '#94a3b8',
                fontFamily: 'Segoe UI, Apple SD Gothic Neo, sans-serif',
                fontSize: '16px',
                labelTextColor: '#f8fafc',
                actorLineColor: '#94a3b8',
                signalColor: '#f8fafc',
                signalTextColor: '#f8fafc',
                noteBkgColor: '#334155',
                noteTextColor: '#f8fafc',
                noteBorderColor: '#3b82f6'
            }
        });

        let currentSlide = 1;
        const totalSlides = 14;

        // 네비게이션 도트 생성
        const nav = document.getElementById('nav');
        for (let i = 1; i <= totalSlides; i++) {
            const dot = document.createElement('div');
            dot.className = 'nav-dot' + (i === 1 ? ' active' : '');
            dot.onclick = () => goToSlide(i);
            nav.appendChild(dot);
        }

        function updateSlide() {
            document.querySelectorAll('.slide').forEach((slide, index) => {
                slide.classList.remove('active', 'prev');
                if (index + 1 === currentSlide) {
                    slide.classList.add('active');
                } else if (index + 1 < currentSlide) {
                    slide.classList.add('prev');
                }
            });

            document.querySelectorAll('.nav-dot').forEach((dot, index) => {
                dot.classList.toggle('active', index + 1 === currentSlide);
            });

            document.getElementById('currentSlide').textContent = currentSlide;
        }

        function nextSlide() {
            if (currentSlide < totalSlides) {
                currentSlide++;
                updateSlide();
            }
        }

        function prevSlide() {
            if (currentSlide > 1) {
                currentSlide--;
                updateSlide();
            }
        }

        function goToSlide(n) {
            currentSlide = n;
            updateSlide();
        }

        // 키보드 네비게이션
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                nextSlide();
            } else if (e.key === 'ArrowLeft') {
                prevSlide();
            } else if (e.key >= '1' && e.key <= '9') {
                const n = parseInt(e.key);
                if (n <= totalSlides) goToSlide(n);
            } else if (e.key === '0') {
                goToSlide(10);
            }
        });

        // 터치 지원
        let touchStartX = 0;
        document.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX;
        });

        document.addEventListener('touchend', (e) => {
            const touchEndX = e.changedTouches[0].clientX;
            const diff = touchStartX - touchEndX;
            if (Math.abs(diff) > 50) {
                if (diff > 0) nextSlide();
                else prevSlide();
            }
        });
    </script>
</body>
</html>
