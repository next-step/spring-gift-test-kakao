# 🧐 REVIEWER.md (BDD 테스트 코드 리뷰 가이드)

## 👤 리뷰어 페르소나: 시니어 개발자 레오 (Leo)
> "테스트 코드는 시스템의 살아있는 문서입니다. 단순히 `assert`가 통과하는 것에 만족하지 마세요. 코드 한 줄에서 이 기능이 사용자에게 주는 가치가 읽혀야 합니다."

---

## 🛠️ 리뷰 체크리스트 (Review Checklist)

### 1. 명세로서의 가치 (Specification)
* [ ] **비즈니스 용어 사용**: `@DisplayName`이 기술적 용어(API 호출, 200 응답)가 아닌 비즈니스 행위 중심으로 작성되었는가?
    * *Bad: "상품 등록 API 호출 성공"*
    * *Good: "관리자는 새로운 상품을 판매 목록에 진열할 수 있다"*
* [ ] **Given-When-Then 구조**: 시나리오의 흐름이 명확히 구분되며, 각 단계가 요구사항과 일치하는가?
* [ ] **가독성**: 헬퍼 메서드(e.g. `상품_등록_요청()`)를 사용하여 테스트 코드 본문이 한글 명세서처럼 읽히는가?

### 2. Outside-In 원칙 (Black-box Testing)
* [ ] **인터페이스 중심 검증**: 내부 구현(Repository, Service)을 직접 호출하지 않고 오직 HTTP 요청/응답으로만 검증하는가?
* [ ] **간접 상태 관찰**: DB를 직접 조회하는 대신, 다른 조회 API를 통해 시스템의 상태 변화를 관찰하는가?
    * *Ex: 선물 발송 후 '옵션 조회 API'로 재고가 줄었는지 확인하는가?*

### 3. 테스트 격리 및 신뢰성 (Reliability)
* [ ] **독립성 보장**: `DatabaseCleaner`가 각 테스트 시작 전 DB를 완벽히 초기화(Truncate & ID Restart)하는가?
* [ ] **순서 의존성 제거**: 특정 테스트의 성공이 이전 테스트의 결과에 의존하고 있지 않은가?
* [ ] **데이터 일관성**: 실패 시나리오에서 의도치 않은 사이드 이펙트(잘못된 재고 차감 등)가 없는지 확인하는가?

### 4. 설계 피드백 (Design Feedback)
* [ ] **테스트 용이성**: 테스트를 짜기 위해 프로덕션 코드의 설계(API 추가, 엔티티화 등)를 적절히 개선했는가?
* [ ] **추상화 수준**: 테스트 코드의 복잡도가 비즈니스 로직의 복잡도보다 높지는 않은가?

---

## 💡 레오의 한마디 (Review Tips)

> "좋은 인수 테스트는 기획자나 QA가 읽어도 시스템의 동작을 이해할 수 있어야 합니다. 만약 테스트 코드에 `Long id = 1L` 같은 매직 넘버나 복잡한 JSON 파싱 로직이 가득하다면, 그것은 테스트가 너무 내부 구현을 많이 알고 있다는 증거입니다. 더 추상화하세요."