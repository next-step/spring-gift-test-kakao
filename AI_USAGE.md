# AI_USAGE.md - 프롬프트 및 AI 활용 방법

## 2. 프로젝트 분석 프롬프트
### 2.1 핵심 기능 파악
**프롬프트:**
```
핵심 기능 분석과 코드 흐름을 분석해서 보여줘. 너는 코드 분석관이야.
```

**결과:**
- 프로젝트 전체 구조 파악 (ui → application → model → infrastructure)
- 핵심 도메인 모델 관계도 도출
- API 엔드포인트 목록 정리

### 2.2 사용자 행동 분석

**프롬프트:**
```
사용자가 할 수 있는 행동에 무엇이 있는지 알려줘.
```

**결과:**
- API로 노출된 기능 목록
- 서비스 레이어에만 존재하는 기능 식별
- 사용자 행동 흐름도 도출

### 2.3 코드 흐름 추적

**프롬프트:**
```
재고가 변경되는 흐름을 보여줘.
```

**결과:**
- Controller → Service → Domain 흐름 시각화
- 트랜잭션 처리 방식 파악
- 핵심 비즈니스 로직 위치 확인

---

## 3. 테스트 전략 수립 프롬프트

### 3.1 검증 대상 선정

**프롬프트:**
```
검증할 행위 목록: 어떤 행위를 선택했는가? 기준은?
```

**결과:**
- 우선순위 기준 정립 (비즈니스 핵심, 상태 변경, 예외 경계)
- 검증 대상 행위 11개 도출
- 우선순위 매트릭스 작성

### 3.2 테스트 전략 문서화

**프롬프트:**
```
### 테스트 데이터 전략: 어떻게 준비하고 정리하는가?
### 검증 전략: 무엇을 어떻게 검증하는가?
### 주요 의사결정: 논의 과정에서 중요한 선택과 이유

이거 작성해줘.
```

**결과:**
- TEST_STRATEGY.md 완성
- 계층별 테스트 전략 수립
- 의사결정 근거 문서화

---

## 4. Custom Skills (Claude.md에 정의)

### 4.1 /summarize - 대화 요약

**용도:** 피어와의 논의 내용을 정리하여 문서화

**동작:**
1. 현재까지의 대화 분석
2. 논의된 주제 정리
3. 주요 결정사항 추출
4. 다음 할 일 목록 생성
5. Claude.md "피어 논의 기록" 섹션 업데이트

**사용 예시:**
```
/summarize
```

### 4.2 /test-behavior - 테스트 시나리오 제안

**용도:** 특정 행위에 대한 테스트 시나리오 도출

**동작:**
1. 대상 행위 분석
2. 성공/실패 케이스 도출
3. given-when-then 구조 제공
4. 검증 포인트 제시

**사용 예시:**
```
/test-behavior Option.decrease
/test-behavior 선물전송
```

### 4.3 /generate-acceptance-test - 인수 테스트 생성

**용도:** 행위에 대한 인수 테스트 코드 자동 생성

**동작:**
1. RestTemplate/WebTestClient 기반 코드 생성
2. 테스트 데이터 준비 코드 포함
3. 검증 assertion 포함

**사용 예시:**
```
/generate-acceptance-test 카테고리생성
/generate-acceptance-test 선물전송
```

### 4.4 /update-strategy - 전략 문서 업데이트

**용도:** TEST_STRATEGY.md를 현재 논의 내용으로 업데이트

**동작:**
1. 현재 대화에서 결정사항 추출
2. TEST_STRATEGY.md 해당 섹션 업데이트
3. 변경 내용 요약 제공

**사용 예시:**
```
/update-strategy
```

### 4.5 /review-test - 테스트 코드 리뷰

**용도:** 작성한 테스트 코드 품질 검토

**동작:**
1. 행위 검증 충분성 확인
2. 테스트 격리 여부 검토
3. 가독성 및 유지보수성 평가
4. 개선 제안

**사용 예시:**
```
/review-test src/test/java/gift/OptionTest.java
```

---

## 5. 효과적인 프롬프트 패턴

### 5.1 역할 부여
```
너는 코드 분석관이야.
너는 테스트 전문가야.
```

### 5.2 구체적 요청
```
// Bad
테스트 전략 알려줘

// Good
검증할 행위 목록: 어떤 행위를 선택했는가? 기준은?
```

### 5.3 흐름 추적 요청
```
재고가 변경되는 흐름을 보여줘.
선물이 전송되는 전체 과정을 추적해줘.
```

### 5.4 문서화 요청
```
TEST_STRATEGY.md 형식으로 작성해줘.
Claude.md에 추가할 내용을 정리해줘.
```

---

## 6. AI 활용 워크플로우

```
┌─────────────────────────────────────────────────────────────┐
│  1단계: 프로젝트 이해                                        │
│  ─────────────────────────────────────────────────────────  │
│  "핵심 기능 분석해줘"                                        │
│  "사용자가 할 수 있는 행동은?"                               │
│  "재고가 변경되는 흐름을 보여줘"                             │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│  2단계: 테스트 전략 수립                                     │
│  ─────────────────────────────────────────────────────────  │
│  "검증할 행위 목록과 기준은?"                                │
│  "테스트 데이터 전략은?"                                     │
│  "검증 전략은?"                                              │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│  3단계: 테스트 코드 작성                                     │
│  ─────────────────────────────────────────────────────────  │
│  /test-behavior [행위명]                                    │
│  /generate-acceptance-test [행위명]                         │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│  4단계: 리뷰 및 정리                                         │
│  ─────────────────────────────────────────────────────────  │
│  /review-test [파일경로]                                    │
│  /summarize                                                 │
│  /update-strategy                                           │
└─────────────────────────────────────────────────────────────┘
```

---

## 7. 피어 협업 시 AI 활용

### 7.1 논의 시작 전
```
"이 프로젝트의 핵심 기능을 분석해줘"
→ 피어와 공유할 컨텍스트 확보
```

### 7.2 논의 중
```
"Option.decrease()에 대한 테스트 시나리오를 제안해줘"
→ 논의 포인트 도출
```

### 7.3 논의 후
```
/summarize
→ 결정사항 문서화

/update-strategy
→ TEST_STRATEGY.md 업데이트
```

---

## 8. 주의사항

1. **AI 출력 검증**: AI가 생성한 코드/문서는 반드시 검토
2. **컨텍스트 유지**: Claude.md를 통해 프로젝트 컨텍스트 유지
3. **피어 논의 병행**: AI는 보조 도구, 최종 결정은 피어와 함께
4. **문서화**: 모든 AI 활용 내용을 이 문서에 기록



## Skills 
### 대화
- /Text File을 전달하면, 대화를 요약해줌. : 주제를 던져주면 해당 주제에 맞게 정리도 해줌.

### 1. Test 
- Unit Test 
- Intergation Test 





